<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M3U8 Video Player</title>
    
    <!-- Include Video.js CSS -->
    <link href="https://vjs.zencdn.net/7.20.3/video-js.min.css" rel="stylesheet">
    
    <!-- Basic styling for the video player -->
    <style>
        .video-container {
            max-width: 800px;
            margin: 0 auto;
        }
        .video-js {
            width: 100%;
            height: auto;
            aspect-ratio: 16 / 9;
        }
    </style>
</head>
<body>
    <div class="video-container">
        <!-- Create the video player -->
        <video 
            id="my-video"
            class="video-js vjs-default-skin"
            controls
            preload="auto"
            width="640"
            height="360"
            data-setup='{}'
        >
            <source src=" https://d2q8p4pe5spbak.cloudfront.net/bpk-tv/9XM/9XM.isml/index.m3u8" type="application/x-mpegURL">
            Your browser does not support the video tag.
        </video>
    </div>

    <!-- Include Video.js JavaScript library -->
    <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
    
    <!-- Include videojs-contrib-hls for HLS support -->
    <script src="https://cdn.jsdelivr.net/npm/videojs-contrib-hls@5.14.1/dist/videojs-contrib-hls.min.js"></script>
    
    <!-- Initialize the player -->
    <script>
        var player = videojs('my-video');

        // Add an event listener to check if the player is ready
        player.ready(function() {
            console.log('Player is ready');
        });

        // Add an event listener to handle errors
        player.on('error', function() {
            console.error('An error occurred:', player.error());
        });

        // Add an event listener to check if the video has loaded metadata
        player.on('loadedmetadata', function() {
            console.log('Metadata loaded');
        });

        // Add an event listener to check for audio tracks
        player.on('loadeddata', function() {
            console.log('Audio tracks:', player.audioTracks());
        });
    </script>
<!-- Code injected by live-server -->
<script>
  // <![CDATA[  <-- For SVG support
  if ('WebSocket' in window) {
    (function () {
      function refreshCSS() {
        var sheets = [].slice.call(document.getElementsByTagName("link"));
        var head = document.getElementsByTagName("head")[0];
        for (var i = 0; i < sheets.length; ++i) {
          var elem = sheets[i];
          var parent = elem.parentElement  head;
          parent.removeChild(elem);
          var rel = elem.rel;
          if (elem.href && typeof rel != "string"  rel.length == 0 || rel.toLowerCase() == "stylesheet") {
            var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
            elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
          }
          parent.appendChild(elem);
        }
      }
      var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
      var address = protocol + window.location.host + window.location.pathname + '/ws';
      var socket = new WebSocket(address);
      socket.onmessage = function (msg) {
        if (msg.data == 'reload') window.location.reload();
        else if (msg.data == 'refreshcss') refreshCSS();
      };
      if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
        console.log('Live reload enabled.');
        sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
      }
    })();
  }
  else {
    console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
  }
  // ]]>
</script>
</body>
</html>
